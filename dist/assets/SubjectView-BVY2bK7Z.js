import{_ as j,o as d,a as m,d as a,t as b,F as $,r as M,g as k,e as N,w,T as x,h as V,i as D,f as l}from"./index-BMVH6IuP.js";const I={class:"subject-container"},B={class:"subject-header"},F={class:"image-grid"},E=["src","alt","onClick"],q={class:"image-container"},z=["src"],A={__name:"SubjectView",props:{subjectName:{type:String,required:!0},images:{type:Array,default:()=>[]}},setup(g){const v=l(null),n=l(1),h=l(0),_=l(0),f=l(0),o=l(0),c=l(0),i=l(0),r=l(0),T=e=>{v.value=e,n.value=1,o.value=0,c.value=0,i.value=0,r.value=0},p=()=>{v.value=null,n.value=1,o.value=0,c.value=0,i.value=0,r.value=0},X=e=>{if(e.touches.length===2){const[t,s]=e.touches;h.value=Math.hypot(s.clientX-t.clientX,s.clientY-t.clientY)}else e.touches.length===1&&(_.value=e.touches[0].clientX,f.value=e.touches[0].clientY,i.value=o.value,r.value=c.value)},Y=e=>{if(e.touches.length===2){const[t,s]=e.touches,u=Math.hypot(s.clientX-t.clientX,s.clientY-t.clientY),y=u/h.value;n.value*=y,n.value=Math.max(.5,Math.min(3,n.value)),h.value=u}else if(e.touches.length===1){const t=e.touches[0].clientX,s=e.touches[0].clientY;o.value=i.value+(t-_.value),c.value=r.value+(s-f.value)}},S=()=>{h.value=0},C=()=>{n.value=1,o.value=0,c.value=0,i.value=0,r.value=0};return(e,t)=>(d(),m("div",I,[a("div",B,[a("h2",null,b(g.subjectName)+"资源",1),t[1]||(t[1]=a("p",null,"分享作业答案",-1))]),a("div",F,[(d(!0),m($,null,M(g.images,(s,u)=>(d(),m("div",{key:u,class:"image-item",style:k({animationDelay:`${u*.1}s`})},[a("img",{src:s.url,alt:`${g.subjectName}作业 ${u+1}`,onClick:y=>T(s.url)},null,8,E),a("p",null,b(s.name),1)],4))),128))]),v.value?(d(),m("div",{key:0,class:"image-modal",onClick:p},[a("div",{class:"modal-content",onClick:t[0]||(t[0]=V(()=>{},["stop"]))},[a("div",q,[N(x,{name:"modal-fade"},{default:w(()=>[a("img",{src:v.value,alt:"放大图片",onTouchstart:X,onTouchmove:Y,onTouchend:S,style:k({transform:`scale(${n.value}) translate(${o.value}px, ${c.value}px)`,transition:"transform 0.1s ease-out"})},null,44,z)]),_:1})]),a("div",{class:"modal-controls"},[a("button",{class:"close-button",onClick:p},"关闭"),a("button",{class:"reset-button",onClick:C},"重置")])])])):D("",!0)]))}},Z=j(A,[["__scopeId","data-v-5a52257d"]]);export{Z as S};
